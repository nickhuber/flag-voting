{% extends "_base.html" %}

{% block head %}
<style>
.flag-small { height: 7em; box-shadow: 2px 2px 12px #928374; };
</style>
{% endblock %}

{% block content %}
  <div class="container text-center">
    <div class="py-5">
      <h2>Stats</h2>
      <p class="lead">
        The flags are ranked as if this were a skill based 1v1 competition, using
        both Elo and TrueSkill™ to see how that changes the ratings.
      </p>
    </div>

    <h1>General</h1>
    <div class="row">
      <div class="col-sm">
        <h4>Most voted for flag</h4>
        <h5>{{most_voted_for.choice__name}}</h5>
        <img src="{% url 'flag' most_voted_for.choice__id %}" class="flag-small">
      </div>
      <div class="col-sm">
        <h4>Least voted for flag</h4>
        <h5>{{least_voted_for.choice__name}}</h5>
        <img src="{% url 'flag' least_voted_for.choice__id %}" class="flag-small">
      </div>
    </div>

    <h1>TrueSkill™</h1>
    <div class="row">
      <div class="col-sm">
        <h3>Highest rated flags</h3>
        {% for flag in ts_most_popular_flags %}
          <h4>{{flag.name}}</h4>
          <img src="{% url 'flag' flag.id %}" class="flag-small">
        {% endfor %}
      </div>

      <div class="col-sm">
        <h3>Lowest rated 5 flags</h3>
        {% for flag in ts_least_popular_flags %}
          <h4>{{flag.name}}</h4>
          <img src="{% url 'flag' flag.id %}" class="flag-small">
        {% endfor %}
      </div>
    </div>

    <h1>Elo</h1>
    <div class="row">
      <div class="col-sm">
        <h3>Highest rated flags</h3>
        {% for flag in elo_most_popular_flags %}
          <h4>{{flag.name}}</h4>
          <img src="{% url 'flag' flag.id %}" class="flag-small">
        {% endfor %}
      </div>

      <div class="col-sm">
        <h3>Lowest rated 5 flags</h3>
        {% for flag in elo_least_popular_flags %}
          <h4>{{flag.name}}</h4>
          <img src="{% url 'flag' flag.id %}" class="flag-small">
        {% endfor %}
      </div>
    </div>
  </div>
{% endblock %}

{% block title %} - stats{% endblock %}
